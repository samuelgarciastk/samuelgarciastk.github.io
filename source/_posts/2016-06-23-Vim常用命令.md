---
title: Vim常用命令
categories:
  - Editor
tags:
  - Vim
abbrlink: 4f46895
date: 2016-06-23 15:04:42
---

以下是Vim的常用命令，在此记录，长期更新。

- `J`合并选中行。

-  `w`移动到下一个词首，`e`词尾。

    `b`移动到上一个词首，`ge`词尾。

    `W`和`B`移动特殊分隔符单词。

- `fx`和`Fx`，`tx`和`Tx`查找字符x。

   `;`和`,`重复命令。

- `H`，`M`，`L`移动到头、中间、尾。

<!-- more -->

- `zt`，`zz`，`zb`将光标所在行至于屏幕顶部、中间、底部。

- `*`，`#`查找光标下的单词。`g*`，`g#`部分匹配。

- `''`跳转到刚才的位置。`CTRL-O`，`CTRL-I`跳转的较老的和较新的位置。

   `:jumps`显示跳转列表。

- `'a`跳转到标记a行首第一个非空字符。\`a跳转到标记a上。

   `ma`给当前字符a做标记。大写字母标记可以跨文件。

    `'`跳转前的光标位置。`"`最后编辑的光标位置。`[`和`]`为最后修改的开始和结束位置。

    `:marks`显示标记列表。

- `D`表示`d$`删除到行尾。`C`表示`c$`修改到行尾。

    `s`表示`cl`修改一个字符。`S`表示`cc`修改一整行。

- `.`重复最后一次的修改动作。

- `v`可视。`V`行可视。`CTRL-V`列块可视。

    `o`对角反向。`O`同行反向。

- `daw`删除一个单词，aw代表a word，iw不包括空白符。

    `cis`修改一个句子，is代表inner sentence，as包括句子后面的空白符。

- `~`修改光标下字符大小写。

    `I`移动到行首第一个非空白字符并进入插入模式。`A`移动到行尾并进入插入模式。

- `:args`显示正在编辑的文件位置。

    `:next`，`:previous`，`:last`，`:first`文件之间的移动。

    `CTRL-^`轮换文件。

- `:write >> foo.txt`追加当前文件到foo.txt。

    `:saveas foo.txt`另存为。`:file foo.txt`显示未编辑，编辑后才能另存为。

- `:split`分割窗口。`CTRL-W w`在窗口间跳转。`:close`关闭窗口。`:only`关闭除当前窗口外的其他窗口。

    `:split foo.txt`用另一个文件分割窗口。`:new`用新建文件分割窗口。

    `:vsplit`垂直分割。

- `CTRL-W +`，`CTRL-W -`放大和缩小窗口。

    `CTRL-W h|j|k|l|t|b`各种跳转命令。

    `CTRL-W H|J|K|L`移动窗口。

- `:qall`，`:wall`，`:wqall`对所有窗口操作。

- `vimdiff foo1.txt foo2.txt`比较差异。

    `zo`，`zc`打开和关闭折叠。

    `:vertical diffsplit foo.txt`内部启动比较。

- `:tabedit foo.txt`新建标签页。`:tab split`新建标签页，和之前文件相同。

    `gt`标签页跳转。

- `q{register}`开始记录命令，{register}可以是a-z，最后按下`q`结束命令记录。

   通过`@{register}`来重复命令执行。`@@`可以执行上一次的重复命令。

- 大写寄存器会对小写寄存器的内容进行追加。

- `:[range]substitute/from/to/[flags]`将范围内的'from'替换为'to'。如`:%s/A/B/g`把全文范围内的A替换为B，且每一行所有的A都替换。

    flag有g：对每一行所有匹配点起作用；p：打印出最后一个被修改的行；c：确认是否修改。

- 范围：`{number},{number}`代表行数范围；`.`代表当前行，默认全文；`$`代表全文结尾行。

    使用模式：`:?^Chapter?+1,/^Chapter/-1s=A=B=g`其中`?`和`/`分别表示向前和向后查找，`+1`和`-1`表示范围向后一行和向前一行，`=`是为了不让`/`混淆，用`/`也是可以的。

    使用标记：`'t,'b`从标记t到b。

    可视模式：`'<,'>`。

    指定行数：先输入一个数字再输入冒号。

- `:[range]global/{pattern}/{command}`匹配模式并执行命令。如`:g+//+s/foobar/barfoo/g`将c++注释中内容替换，`+`用于避免混淆。

- `<`和`>`用于平移。

- `:[range]read foo.txt`插入foo.txt。

    `:[range]write foo.txt`写入foo.txt。`:[range]write >>foo.txt`追加写入。
